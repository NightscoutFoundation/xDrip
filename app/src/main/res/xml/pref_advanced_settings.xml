<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
    <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
        android:icon="@drawable/ic_watch_grey600_48dp"
        android:key="smart_watch_options"
        android:summary="@string/pebble_and_android_wear_options"
        android:title="@string/smart_watch_features">
        <PreferenceScreen android:title="@string/android_wear_integration"
            android:key="android_wear_preferences">
            <PreferenceCategory
                android:key="watch_integration"
                android:title="@string/wear_integration">
                <SwitchPreference
                    android:defaultValue="false"
                    android:key="wear_sync"
                    android:summary="@string/send_data_to_android_wear_watch"
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:title="@string/android_wear_integration" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="wear_sync"
                    android:key="enable_wearG5"
                    android:summary="@string/pref_summary_enable_wearG5"
                    android:title="@string/pref_enable_wearG5" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="enable_wearG5"
                    android:key="force_wearG5"
                    android:summary="@string/pref_summary_force_wearG5"
                    android:title="@string/pref_force_wearG5" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="force_wearG5"
                    android:key="disable_wearG5_on_lowbattery"
                    android:summary="@string/pref_summary_disable_wearG5_on_lowbattery"
                    android:title="@string/pref_disable_wearG5_on_lowbattery" />
                <SwitchPreference
                    android:defaultValue="false"
                    android:dependency="force_wearG5"
                    android:key="disable_wearG5_on_missedreadings"
                    android:summary="@string/pref_summary_disable_wearG5_on_missedreadings"
                    android:title="@string/pref_disable_wearG5_on_missedreadings" />
                <EditTextPreference
                    android:defaultValue="30"
                    android:dependency="disable_wearG5_on_missedreadings"
                    android:digits="0123456789"
                    android:inputType="number"
                    android:key="disable_wearG5_on_missedreadings_level"
                    android:summary=""
                    android:title="@string/pref_disable_wearG5_on_missedreadings_level" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="force_wearG5"
                    android:key="only_ever_use_wear_collector"
                    android:summary="@string/summary_If_you_plan_to_only_use_a_Wear_collector_and_never_your_phone"
                    android:title="@string/title_Only_use_Wear" />
                <EditTextPreference
                    android:defaultValue=""
                    android:dependency="force_wearG5"
                    android:editable="false"
                    android:inputType="none"
                    android:key="node_wearG5"
                    android:summary="@string/pref_summary_node_wearG5"
                    android:textIsSelectable="true"
                    android:title="@string/pref_node_wearG5" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="wear_sync"
                    android:key="sync_wear_logs"
                    android:summary="@string/pref_summary_sync_wear_logs"
                    android:title="@string/pref_sync_wear_logs" />
                <EditTextPreference
                    android:defaultValue="wear"
                    android:dependency="sync_wear_logs"
                    android:editable="true"
                    android:key="wear_logs_prefix"
                    android:summary="@string/pref_summary_wear_logs_prefix"
                    android:textIsSelectable="true"
                    android:title="@string/pref_wear_logs_prefix" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="wear_sync"
                    android:key="show_wear_treatments"
                    android:summary="@string/pref_summary_show_treatments"
                    android:title="@string/pref_show_treatments" />

            </PreferenceCategory>
        </PreferenceScreen>
        <PreferenceScreen android:title="@string/pebble_integration"
            android:key="pebble_preferences">
            <PreferenceCategory
                android:key="pebble_integration"
                android:title="@string/pebble_integration">
                <SwitchPreference
                    android:defaultValue="false"
                    android:key="broadcast_to_pebble"
                    android:summary="@string/send_data_to_pebble_watchface"
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:title="@string/pebble_watch_integration" />
                <ListPreference
                    android:defaultValue="2"
                    android:dependency="broadcast_to_pebble"
                    android:entries="@array/SendToPebbleChoice"
                    android:entryValues="@array/SendToPebbleChoiceValues"
                    android:key="broadcast_to_pebble_type"
                    android:summary="@string/standard_or_trend_pebble_watchface"
                    android:title="@string/choose_pebble_watchface" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_display_trend"
                    android:summary="@string/pref_summary_display_trend"
                    android:title="@string/pref_pebble_display_trend" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_filtered_line"
                    android:summary="@string/summary_Also_show_the_filtered_data_on_the_trend"
                    android:title="@string/display_filtered_line" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_tiny_dots"
                    android:summary="@string/show_tiny_dots_instead"
                    android:title="@string/use_tiny_dots" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_high_line"
                    android:summary="@string/displays_the_high_line"
                    android:title="@string/pref_pebble_display_high_line" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_low_line"
                    android:summary="@string/displays_the_low_line"
                    android:title="@string/pref_pebble_display_low_line" />
                <ListPreference
                    android:defaultValue="3"
                    android:dependency="broadcast_to_pebble"
                    android:entries="@array/PebbleTrendPeriods"
                    android:entryValues="@array/PebbleTrendPeriodValues"
                    android:key="pebble_trend_period"
                    android:summary="@string/set_the_trend_period_to_display"
                    android:title="@string/trend_time_period" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_show_delta"
                    android:summary="@string/displays_the_delta_value"
                    android:title="@string/display_delta" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_show_delta_units"
                    android:summary="@string/displays_the_delta_units"
                    android:title="@string/display_delta_units" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_show_arrows"
                    android:summary="@string/displays_the_slope_arrows"
                    android:title="@string/display_slope_arrows" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="pebble_vibe_alerts"
                    android:summary="@string/watch_vibrate_active_alerts"
                    android:title="@string/vibrate_alerts" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_vibrate_no_signal"
                    android:summary="@string/vibrate_watch_to_alert_no_data"
                    android:title="@string/vibrate_when_missed_signal" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_vibrate_no_bluetooth"
                    android:summary="@string/vibrate_watch_to_alert_no_bluetooth"
                    android:title="@string/vibrate_when_no_bluetooth" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="pebble_show_bwp"
                    android:summary="@string/summary_Show_Bolus_Wizard_Preview_Insulin_value_on_watch_when_appropriate"
                    android:title="@string/title_Display_BWP_Insulin" />
                <EditTextPreference
                    android:defaultValue="99"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_special_value"
                    android:summary="@string/special_glucose_value_to_display_message"
                    android:title="@string/special_value" />
                <EditTextPreference
                    android:defaultValue="BAZINGA!"
                    android:dependency="broadcast_to_pebble"
                    android:key="pebble_special_text"
                    android:summary="@string/message_to_display_when_bgl_hits"
                    android:title="@string/text_to_display_when_hitting_special_value" />
            </PreferenceCategory>

            <PreferenceCategory
                android:key="pebble_installers"
                android:title="@string/install_pebble_apps">
                <Preference
                    android:key="install_pebble_snooze_control"
                    android:summary="@string/attach_to_button"
                    android:title="@string/install_pebble_snooze_control_app">
                    <intent
                        android:action="android.intent.action.MAIN"
                        android:targetClass="com.eveningoutpost.dexdrip.utilitymodels.pebble.watchface.InstallPebbleSnoozeControlApp"
                        android:targetPackage="@string/local_target_package" />
                </Preference>
            </PreferenceCategory>
        </PreferenceScreen>
        <PreferenceScreen
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:key="amazfit_sync_preferences"
            android:title="@string/amazfit_sync_service">
            <CheckBoxPreference
                android:defaultValue="false"
                android:disableDependentsState="false"
                android:key="pref_amazfit_enable_key"
                android:summary="@string/pref_amazfit_enable_summary"
                android:title="@string/pref_amazfit_tile" />
            <CheckBoxPreference
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:defaultValue="false"
                android:dependency="pref_amazfit_enable_key"
                android:key="pref_amazfit_BG_alert_enable_key"
                android:summary="@string/pref_amazfit_BG_alert_enable_summary"
                android:title="@string/pref_amazfit_BG_alert_title" />
            <CheckBoxPreference
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:defaultValue="false"
                android:dependency="pref_amazfit_enable_key"
                android:key="pref_amazfit_other_alert_enable_key"
                android:summary="@string/pref_amazfit_other_alert_enable_summary"
                android:title="@string/pref_amazfit_other_alert_title" />
            <PreferenceCategory
                android:key="Amazfit_Watchface"
                android:title="@string/pref_amazfit_watchface_settings">
                <CheckBoxPreference
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:defaultValue="false"
                    android:dependency="pref_amazfit_enable_key"
                    android:key="pref_amazfit_watchface_graph"
                    android:summary="@string/pref_amazfit_watchface_graph_enable_summary"
                    android:title="@string/pref_amazfit_watchface_graph_title" />
                <CheckBoxPreference
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:defaultValue="false"
                    android:dependency="pref_amazfit_watchface_graph"
                    android:key="pref_amazfit_watchface_graph_dots"
                    android:summary="@string/pref_amazfit_watchface_graph_dots_summary"
                    android:title="@string/pref_amazfit_watchface_graph_dots_title" />
                <EditTextPreference
                    android:defaultValue="4"
                    android:dependency="pref_amazfit_watchface_graph"
                    android:digits="0123456789"
                    android:inputType="number"
                    android:key="amazfit_watchface_graph_hours"
                    android:summary="@string/pref_amazfit_widget_graph_hours_summary"
                    android:title="@string/pref_amazfit_watchface_graph_hours_title" />
            </PreferenceCategory>
            <PreferenceCategory
                android:key="Amazfit_Widget"
                android:title="@string/pref_amazfit_widget_settings">
                <CheckBoxPreference
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:defaultValue="false"
                    android:dependency="pref_amazfit_enable_key"
                    android:key="pref_amazfit_widget_graph"
                    android:summary="@string/pref_amazfit_widget_graph_enable_summary"
                    android:title="@string/pref_amazfit_widget_graph_title" />
                <CheckBoxPreference
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:defaultValue="false"
                    android:dependency="pref_amazfit_widget_graph"
                    android:key="pref_amazfit_widget_graph_dots"
                    android:summary="@string/pref_amazfit_widget_graph_dots_summary"
                    android:title="@string/pref_amazfit_widget_graph_dots_title" />
                <EditTextPreference
                    android:defaultValue="4"
                    android:dependency="pref_amazfit_widget_graph"
                    android:digits="0123456789"
                    android:inputType="number"
                    android:key="amazfit_widget_graph_hours"
                    android:summary="@string/pref_amazfit_widget_graph_hours_summary"
                    android:title="@string/pref_amazfit_widget_graph_hours_title" />
            </PreferenceCategory>
        </PreferenceScreen>


        <PreferenceScreen
            android:key="bluejay_preference_screen"
            android:title="BlueJay Watch">
            <SwitchPreference
                android:defaultValue="false"
                android:key="bluejay_enabled"
                android:summary=""
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="BlueJay Watch" />
            <SwitchPreference
                android:defaultValue="true"
                android:dependency="bluejay_enabled"
                android:key="bluejay_collector_enabled"
                android:summary=""
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="Run Collector" />

            <CheckBoxPreference
                android:defaultValue="true"
                android:dependency="bluejay_enabled"
                android:key="bluejay_local_alarms"
                android:summary="Watch can alarm for high/low when not connected to phone."
                android:title="Local Alarms" />

            <SwitchPreference
                android:defaultValue="true"
                android:dependency="bluejay_enabled"
                android:key="bluejay_send_alarms"
                android:summary="Send xDrip generated alarms to the watch"
                android:title="Send Alarms" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:dependency="bluejay_enabled"
                android:key="bluejay_option_call_notifications"
                android:summary="Send call notifications to the band (Android 6+)"
                android:title="Send Calls" />

            <CheckBoxPreference
                android:defaultValue="true"
                android:dependency="bluejay_enabled"
                android:key="bluejay_send_readings"
                android:summary="Send glucose values received on the Phone to the Watch"
                android:title="Send Readings" />

            <CheckBoxPreference
                android:defaultValue="false"
                android:dependency="bluejay_enabled"
                android:key="bluejay_option_24_hour_clock"
                android:summary="Show 24 hour clock on display"
                android:title="24 Hour Clock" />

            <SeekBarPreference
                android:defaultValue="6"
                android:dependency="bluejay_enabled"
                android:key="bluejay_screen_timeout"
                android:max="7"
                android:min="0"
                android:summary=""
                android:title="Screen Timeout" />

            <SwitchPreference
                android:defaultValue="true"
                android:dependency="bluejay_enabled"
                android:key="bluejay_use_motion_wake"
                android:summary="Use a shake of the wrist to wake BlueJay. Adjust sensitivity below."
                android:title="Wake with motion" />

            <SeekBarPreference
                android:defaultValue="6"
                android:dependency="bluejay_enabled"
                android:key="bluejay_wake_velocity"
                android:max="15"
                android:min="0"
                android:summary=""
                android:title="Wake up velocity" />

            <Preference
                android:key="launch_bluejay_control"
                android:title="Launch BlueJay Panel">
                <intent
                    android:action="android.intent.action.MAIN"
                    android:targetClass="com.eveningoutpost.dexdrip.ui.activities.ThinJamActivity"
                    android:targetPackage="@string/local_target_package" />
            </Preference>


            <PreferenceScreen
                android:key="bluejay_preference_screen"
                android:title="BlueJay Advanced Settings">
                <EditTextPreference
                    android:key="bluejay_mac"
                    android:title="BlueJay Mac" />

                <SwitchPreference
                    android:defaultValue="true"
                    android:dependency="bluejay_enabled"
                    android:key="bluejay_run_phone_collector"
                    android:summary="Also run the standard collector on this phone. Only turn this off if you don't want this phone itself to be connecting to the transmitter."
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:title="Run Phone Collector" />

                <SwitchPreference
                    android:defaultValue="false"
                    android:dependency="bluejay_enabled"
                    android:key="bluejay_run_as_phone_collector"
                    android:summary="This allows the BlueJay to occupy the phone slot on the transmitter. Select this if you want another non-phone device to be able to connect to the transmitter and you are not using a phone to connect to the transmitter."
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:title="BlueJay uses Phone Slot" />

                <SwitchPreference
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:defaultValue="false"
                    android:dependency="bluejay_enabled"
                    android:key="bluejay_use_broadcast_api"
                    android:summary="Accept commands from other apps"
                    android:title="Enable remote API" />

                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="bluejay_enabled"
                    android:key="bluejay_send_status_line"
                    android:summary="Show xDrip extra status line on X2 display"
                    android:title="Send Status Line" />

                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="bluejay_enabled"
                    android:key="bluejay_beep_on_connect"
                    android:summary="Play a sound when the bluejay connects"
                    android:title="Debug sound" />

                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="bluejay_enabled"
                    android:enabled="false"
                    android:key="bluejay_delta_trend"
                    android:summary="Try to calculate xDrip style delta trend arrow instead of using transmitter estimate arrow."
                    android:title="Attempt Delta Trend" />

                <SeekBarPreference
                    android:key="bluejay_backfill_hours"
                    android:dependency="bluejay_enabled"
                    android:title="Backfill Hours"
                    android:summary="Larger backfill scope can reduce battery life"
                    android:max="12"
                    android:min="0"
                    android:defaultValue="3" />

                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="bluejay_enabled"
                    android:enabled="false"
                    android:key="bluejay_timing_failsafe"
                    android:summary="Scan for longer periods of time if readings are missed. Uses more battery but can recover if watch gets out of sync"
                    android:title="Timing fail-safe" />


                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="bluejay_button1_vibrate"
                    android:summary="Vibrate watch when a button long press is sent to the phone"
                    android:title="Vibrate button" />
                <SwitchPreference
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:defaultValue="false"
                    android:key="bluejay_send_to_another_xdrip"
                    android:summary="If you have multiple xDrip instances on your phone you can send data to another one that has a BlueJay here"
                    android:title="Send to another xDrip" />

            </PreferenceScreen>


        </PreferenceScreen>


        <PreferenceScreen android:title="@string/title_lefun_band"
            android:key="lefun_preferences">
            <SwitchPreference
                android:defaultValue="false"
                android:key="lefun_enabled"
                android:summary="@string/summary_lefun_enable"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/title_lefun_enable" />
            <EditTextPreference
                android:key="lefun_mac"
                android:title="@string/title_lefun_mac" />
            <SwitchPreference
                android:defaultValue="true"
                android:dependency="lefun_enabled"
                android:key="lefun_send_readings"
                android:summary="@string/summary_lefun_send_readings"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/title_lefun_send_readings" />
            <SwitchPreference
                android:defaultValue="true"
                android:dependency="lefun_enabled"
                android:key="lefun_send_alarms"
                android:summary="@string/summary_lefun_send_alarms"
                android:title="@string/title_lefun_send_alarms" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:dependency="lefun_send_alarms"
                android:key="lefun_option_shake_snoozes"
                android:title="@string/title_lefun_option_shake_snoozes" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:dependency="lefun_enabled"
                android:key="lefun_option_call_notifications"
                android:summary="Send call notifications to the band (Android 6+)"
                android:title="Send Calls" />

            <PreferenceScreen android:title="@string/title_lefun_screens_features"
                android:key="lefun_features">

                <PreferenceCategory android:title="@string/title_features">
                    <CheckBoxPreference
                        android:defaultValue="true"
                        android:key="lefun_feature_lift_to_wake"
                        android:title="@string/title_lefun_feature_lift_to_wak" />
                    <CheckBoxPreference
                        android:key="lefun_feature_anti_lost"
                        android:title="@string/title_lefun_feature_anti_lost" />
                    <CheckBoxPreference
                        android:defaultValue="true"
                        android:key="lefun_locale_12_hour"
                        android:title="@string/title_lefun_locale_12_hour" />
                </PreferenceCategory>

                <PreferenceCategory android:title="@string/title_screens">
                    <CheckBoxPreference
                        android:key="lefun_screen_step_counter"
                        android:title="@string/title_lefun_screen_step_counter" />
                    <CheckBoxPreference
                        android:key="lefun_screen_step_distance"
                        android:title="@string/title_lefun_screen_step_distance" />
                    <CheckBoxPreference
                        android:key="lefun_screen_step_calories"
                        android:title="@string/title_lefun_screen_step_calories" />
                    <CheckBoxPreference
                        android:key="lefun_screen_heart_rate"
                        android:title="@string/title_lefun_screen_heart_rate" />
                    <CheckBoxPreference
                        android:key="lefun_screen_heart_pressure"
                        android:title="@string/title_lefun_screen_heart_pressure" />
                    <CheckBoxPreference
                        android:key="lefun_screen_find_phone"
                        android:title="@string/title_lefun_screen_find_phone" />

                    <CheckBoxPreference
                        android:key="lefun_screen_mac_address"
                        android:title="@string/title_lefun_screen_mac_address" />
                </PreferenceCategory>
            </PreferenceScreen>
        </PreferenceScreen>
        <PreferenceScreen
            android:key="miband_preferences"
            android:title="@string/title_miband">
            <SwitchPreference
                android:defaultValue="false"
                android:key="miband_enabled"
                android:summary="@string/summary_miband_enable"
                android:title="@string/title_miband_enable" />
            <EditTextPreference
                android:key="miband_data_mac"
                android:title="@string/title_lefun_mac"
                android:summary="@string/summary_miband_mac" />
            <EditTextPreference
                android:icon="@drawable/ic_vpn_key"
                android:key="miband_data_authkey"
                android:maxLength="32"
                android:summary="@string/summary_miband_authkey"
                android:title="@string/title_miband_authkey" />
            <SwitchPreference
                android:defaultValue="true"
                android:dependency="miband_enabled"
                android:key="miband_send_readings"
                android:summary="@string/summary_lefun_send_readings"
                android:title="@string/title_lefun_send_readings" />
            <SwitchPreference
                android:defaultValue="true"
                android:dependency="miband_send_readings"
                android:key="miband_send_readings_as_notification"
                android:summary="@string/summary_miband_send_readings_as_notification"
                android:title="@string/title_miband_send_readings_as_notification" />
            <SwitchPreference
                android:defaultValue="true"
                android:dependency="miband_send_readings"
                android:key="miband_vibrate_on_readings"
                android:title="@string/title_miband_vibrate_on_readings" />
            <SwitchPreference
                android:defaultValue="true"
                android:dependency="miband_enabled"
                android:key="miband_send_alarms"
                android:summary="@string/summary_lefun_send_alarms"
                android:title="@string/title_lefun_send_alarms" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:dependency="miband_enabled"
                android:key="miband_option_call_notifications"
                android:summary="@string/summary_miband_send_calls"
                android:title="@string/title_miband_send_calls" />
            <PreferenceCategory
                android:title="@string/title_miband_graph_category"
                android:dependency="miband_enabled"
                android:key="miband_graph_category">
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:dependency="miband_enabled"
                    android:key="miband_graph_enable"
                    android:title="@string/title_miband_graph_enable" />
                <EditTextPreference
                    android:defaultValue="4"
                    android:dependency="miband_graph_enable"
                    android:digits="0123456789"
                    android:inputType="number"
                    android:key="miband_graph_hours"
                    android:summary="@string/pref_amazfit_widget_graph_hours_summary"
                    android:title="@string/pref_amazfit_watchface_graph_hours_title" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:dependency="miband_graph_enable"
                    android:key="miband_graph_treatment_enable"
                    android:title="@string/title_miband_graph_treatment_enable" />
            </PreferenceCategory>
            <Preference
                android:key="update_miband_bg"
                android:dependency="miband_enabled"
                android:title="@string/title_miband_update_bg"/>
            <PreferenceCategory
                android:title="@string/title_miband_general_settings_category"
                android:dependency="miband_enabled">
                <PreferenceScreen
                    android:key="miband_settings"
                    android:title="@string/title_miband_screens_features">
                    <PreferenceCategory android:title="@string/title_features">
                        <SwitchPreference
                            android:defaultValue="true"
                            android:key="miband_feature_lift_to_wake"
                            android:title="@string/title_lefun_feature_lift_to_wak" />
                        <SwitchPreference
                            android:defaultValue="true"
                            android:key="miband_feature_switch_display_on_wrist"
                            android:title="@string/title_miband_switch_display_on_wrist" />
                        <SwitchPreference
                            android:defaultValue="true"
                            android:switchTextOff="miles"
                            android:switchTextOn="km"
                            android:key="miband_feature_units"
                            android:summary="@string/summary_miband_units"
                            android:title="@string/title_miband_units" />
                        <SwitchPreference
                            android:defaultValue="true"
                            android:key="miband_feature_goal_notification"
                            android:summary="@string/summary_miband_goal_notification"
                            android:title="@string/title_miband_goal_notification" />
                        <SwitchPreference
                            android:key="miband_feature_anti_lost"
                            android:title="@string/title_lefun_feature_anti_lost" />
                        <SwitchPreference
                            android:defaultValue="true"
                            android:key="miband_feature_locale_24_hour"
                            android:summary="@string/summary_miband_locale_24_hour"
                            android:title="@string/title_miband_locale_24_hour" />
                        <SwitchPreference
                            android:defaultValue="true"
                            android:key="miband_feature_show_date"
                            android:title="@string/title_miband_show_date" />
                        <SwitchPreference
                            android:defaultValue="true"
                            android:key="miband_feature_visibility"
                            android:summary="@string/summary_miband_visibility"
                            android:title="@string/title_miband_visibility" />
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:key="miband_nightmode_category"
                        android:title="@string/title_miband_nightmode_category">
                        <SwitchPreference
                            android:defaultValue="false"
                            android:key="miband_nightmode_enabled"
                            android:summary="@string/summary_miband_nightmode_enabled"
                            android:title="@string/title_miband_nightmode_enabled" />
                        <com.eveningoutpost.dexdrip.utils.TimePreference
                            android:key="miband_nightmode_start"
                            android:dependency="miband_nightmode_enabled"
                            android:title="@string/title_miband_nightmode_start">
                        </com.eveningoutpost.dexdrip.utils.TimePreference>
                        <com.eveningoutpost.dexdrip.utils.TimePreference
                            android:key="miband_nightmode_end"
                            android:dependency="miband_nightmode_enabled"
                            android:title="@string/title_miband_nightmode_end">
                        </com.eveningoutpost.dexdrip.utils.TimePreference>
                        <SeekBarPreference
                            android:defaultValue="6"
                            android:dependency="miband_enabled"
                            android:key="miband_nightmode_interval"
                            android:max="23"
                            android:summary="@string/summary_miband_interval_in_nightmode"
                            android:title="@string/title_miband_interval_in_nightmode" />
                    </PreferenceCategory>
                    <SwitchPreference
                        android:defaultValue="true"
                        android:key="miband_collect_heartrate"
                        android:summary="@string/summary_miband_colect_heartrate"
                        android:switchTextOff="@string/short_off_text_for_switches"
                        android:switchTextOn="@string/short_on_text_for_switches"
                        android:title="@string/title_miband_colect_heartrate" />
                    <PreferenceCategory
                        android:key="miband2_screen"
                        android:title="@string/title_screens">
                        <CheckBoxPreference
                            android:key="miband_screen_step_counter"
                            android:defaultValue="true"
                            android:title="@string/title_lefun_screen_step_counter" />
                        <CheckBoxPreference
                            android:key="miband_screen_step_distance"
                            android:defaultValue="true"
                            android:title="@string/title_lefun_screen_step_distance" />
                        <CheckBoxPreference
                            android:key="miband_screen_step_calories"
                            android:defaultValue="true"
                            android:title="@string/title_lefun_screen_step_calories" />
                        <CheckBoxPreference
                            android:key="miband_screen_heart_rate"
                            android:defaultValue="true"
                            android:title="@string/title_lefun_screen_heart_rate" />
                        <CheckBoxPreference
                            android:key="miband_screen_battery"
                            android:defaultValue="true"
                            android:title="@string/title_miband_screen_battery" />
                    </PreferenceCategory>
                    <PreferenceCategory
                        android:key="miband3_4_screen"
                        android:title="@string/title_screens">
                        <CheckBoxPreference
                            android:key="miband_screen_notifications"
                            android:defaultValue="true"
                            android:title="@string/title_miband_screen_notifications" />
                        <CheckBoxPreference
                            android:key="miband_screen_weather"
                            android:defaultValue="true"
                            android:title="@string/title_miband_screen_weather" />
                        <CheckBoxPreference
                            android:key="miband_screen_activity"
                            android:defaultValue="true"
                            android:title="@string/title_miband_screen_activity" />
                        <CheckBoxPreference
                            android:key="miband_screen_more"
                            android:defaultValue="true"
                            android:title="@string/title_miband_screen_more" />
                        <CheckBoxPreference
                            android:key="miband_screen_status"
                            android:defaultValue="true"
                            android:title="@string/title_miband_screen_status" />
                        <CheckBoxPreference
                            android:key="miband_screen_heart_rate"
                            android:defaultValue="true"
                            android:title="@string/title_miband_screen_heart_rate" />
                        <CheckBoxPreference
                            android:key="miband_screen_timer"
                            android:defaultValue="true"
                            android:title="@string/title_miband_screen_timer" />
                        <CheckBoxPreference
                            android:key="miband_screen_nfc"
                            android:defaultValue="false"
                            android:title="@string/title_miband_screen_nfc" />
                    </PreferenceCategory>
                </PreferenceScreen>
            </PreferenceCategory>
            <PreferenceCategory
                android:title="Experimental"
                android:key="debug_miband4"
                >
                <SwitchPreference
                    android:defaultValue="false"
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:dependency="miband_enabled"
                    android:key="debug_miband_use_custom_watchface"
                    android:title="Allow to use custom watchface"
                    android:summary="You should place 'my_watchface.bin' and 'my_image.png' file into 'xdrip' folder on your phone"/>
                <EditTextPreference
                    android:defaultValue="0"
                    android:dependency="debug_miband_use_custom_watchface"
                    android:key="debug_miband_image_offset"
                    android:digits="0123456789"
                    android:inputType="number"
                    android:summary="Offset for autogenerated data from the beginning of 'my_image.png' file"
                    android:title="Image offset(px)"/>
                <SwitchPreference
                    android:defaultValue="false"
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:dependency="miband_enabled"
                    android:key="debug_miband_disable_hight_mtu"
                    android:summary="Enabling this option in some cases can fix watchface syncronization error"
                    android:title="Disable hight MTU values" />
           </PreferenceCategory>

        </PreferenceScreen>

        <PreferenceScreen
            icon="@drawable/ic_heart_pulse_grey600_24dp"
            android:key="smartwatch_sensors_screen"
            android:title="@string/title_Smartwatch_Sensors">
            <SwitchPreference
                android:defaultValue="true"
                android:key="use_pebble_health"
                android:summary="@string/summary_Collect_and_display_Step_counter_and_Heart_rate_when_available"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/title_Use_Health_Data" />
            <SwitchPreference
                android:defaultValue="true"
                android:key="use_wear_heartrate"
                android:summary="@string/summary_Activate_heart_rate_sensor_if_available"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/title_Heart_Rate_Sensor" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:dependency="use_wear_heartrate"
                android:key="smooth_heartrate"
                android:summary="@string/summary_Smooth_heart_rate_graph" />
        </PreferenceScreen>
    </PreferenceScreen>

    <PreferenceCategory
        android:key="other_category"
        android:title="@string/other_settings">
        <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
            android:icon="@drawable/ic_speak_reading_grey600_48dp"
            android:key="xdrip_speak_readings_settings"
            android:summary="@string/if_the_phone_has_text_to_speech"
            android:title="@string/speak_readings">
            <SwitchPreference
                android:defaultValue="false"
                android:key="bg_to_speech"
                android:summary="@string/if_the_phone_has_text_to_speech"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/speak_readings" />
            <SeekBarPreference
                android:defaultValue="0"
                android:dependency="bg_to_speech"
                android:key="speak_readings_change_threshold"
                android:max="300"
                android:min="0"
                android:summary="@string/title_When_changes_by"
                android:title="" />
            <SeekBarPreference
                android:defaultValue="0"
                android:dependency="bg_to_speech"
                android:key="speak_readings_change_time"
                android:max="300"
                android:min="0"
                android:summary="@string/title_Or_per_number_of_minutes"
                android:title="" />
            <SwitchPreference
                android:defaultValue="false"
                android:key="speak_alerts"
                android:summary="@string/Speak_Alerts_Summary"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/Speak_Alerts" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:dependency="bg_to_speech"
                android:key="bg_to_speech_trend"
                android:summary="@string/Speak_trend_arrow_name" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:dependency="bg_to_speech"
                android:key="bg_to_speech_repeat_twice"
                android:summary="@string/speak_glucose_twice" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="speak_twice"
                android:summary="@string/Speak_everything_twice" />
            <EditTextPreference
                android:defaultValue=""
                android:key="speak_readings_custom_language"
                android:summary="@string/spoken_readings_locale" />
            <SeekBarPreference
                android:defaultValue="7"
                android:key="speech_speed"
                android:max="20"
                android:min="2"
                android:summary=""
                android:title="@string/Speech_speed" />
            <SeekBarPreference
                android:defaultValue="12"
                android:key="speech_pitch"
                android:max="20"
                android:min="4"
                android:summary=""
                android:title="@string/Speech_pitch" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="bg_to_speech_shortcut"
                android:summary="@string/short_speak_readings_shortcut"
                android:title="@string/speak_readings_shortcut" />
        </PreferenceScreen>
        <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
            android:icon="@drawable/ic_open_in_app_grey600_48dp"
            android:key="xdrip_intrer_app_settings"
            android:summary="@string/for_interacting_compatible_apps"
            android:title="@string/interapp_settings">
            <SwitchPreference
                android:defaultValue="false"
                android:key="broadcast_data_through_intents"
                android:summary="@string/pref_summary_broadcast_enabled"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/pref_title_broadcast_enabled" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:dependency="broadcast_data_through_intents"
                android:key="broadcast_data_use_best_glucose"
                android:summary="@string/use_plugins_for_brodcast"
                android:title="@string/send_display_glucose" />
            <ListPreference
                android:defaultValue="200"
                android:dependency="broadcast_data_through_intents"
                android:entries="@array/NoiseLevelBlock"
                android:entryValues="@array/NoiseLevelBlockValues"
                android:key="noise_block_level"
                android:shouldDisableView="true"
                android:summary="@string/level_at_which_noisy_data_should_not_be_broadcast"
                android:title="@string/noise_blocking" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:dependency="broadcast_data_through_intents"
                android:key="broadcast_data_through_intents_without_permission"
                android:summary="@string/send_broadcasts_old_permission_model"
                android:title="@string/compatible_broadcast" />
            <EditTextPreference
                android:dependency="broadcast_data_through_intents"
                android:key="local_broadcast_specific_package_destination"
                android:summary="@string/summary_Only_send_to_named_package"
                android:title="@string/title_Identify_receiver" />
            <SwitchPreference
                android:defaultValue="true"
                android:key="accept_nsclient_sgv"
                android:title="Accept Glucose"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:summary="Process glucose data received from NSClient app" />
            <SwitchPreference
                android:defaultValue="true"
                android:key="accept_nsclient_treatments"
                android:summary="@string/process_nsclient_treatments"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/accept_treatments" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:dependency="accept_nsclient_treatments"
                android:key="profile_import_sound"
                android:summary="@string/play_sounds_when_importing"
                android:title="@string/import_sounds" />
            <SwitchPreference
                android:defaultValue="true"
                android:key="accept_broadcast_calibrations"
                android:summary="@string/process_broadcasted_calibrations"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/title_Accept_Calibrations" />
            <SwitchPreference
                android:defaultValue="true"
                android:key="accept_external_status"
                android:summary="@string/external_status_strings_eg_tbr"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/accept_external_status" />
            <SwitchPreference
                android:defaultValue="false"
                android:key="xdrip_webservice"
                android:summary="@string/summary_Operate_a_local_web_server_for_interacting_with_Fitbit_Ionic_etc"
                android:switchTextOff="@string/short_off_text_for_switches"
                android:switchTextOn="@string/short_on_text_for_switches"
                android:title="@string/title_xDrip_Web_Service" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:dependency="xdrip_webservice"
                android:key="xdrip_webservice_open"
                android:summary="@string/summary_Accept_connections_from_any_network_instead_of_just_internally"
                android:title="@string/title_Open_Web_Service" />
            <EditTextPreference
                android:defaultValue=""
                android:dependency="xdrip_webservice"
                android:key="xdrip_webservice_secret"
                android:summary="@string/summary_Shared_Secret_for_open_web_service"
                android:title="@string/title_xDrip_Web_Service_Secret" />
            <SwitchPreference
                android:defaultValue="false"
                android:key="broadcast_service_enabled"
                android:summary="@string/summary_broadcast_service_api"
                android:title="@string/title_broadcast_service_api" />
            <SwitchPreference
                android:defaultValue="true"
                android:key="enable_iob_in_api_endpoint"
                android:summary="@string/summary_enable_iob_in_api_endpoint"
                android:title="@string/title_enable_iob_in_api_endpoint" />
            <SwitchPreference
                android:defaultValue="false"
                android:key="fetch_iob_from_companion_app"
                android:summary="@string/summary_fetch_iob_from_companion_app"
                android:title="@string/title_fetch_iob_from_companion_app" />
            <PreferenceScreen
                android:title="Google Health Connect"
                android:summary="Send and receive data from Google Health Connect and Google Fit"
                android:key="health_connect_screen">

                <SwitchPreference
                    android:key="health_connect_enable"
                    android:title="Use Health Connect"
                    android:summary="Requires Android 8+ and Google companion application"
                    />
                <SwitchPreference
                    android:key="health_connect_receive"
                    android:defaultValue="true"
                    android:summary="Get data from Health Connect"
                    android:dependency="health_connect_enable"
                    />
                <SwitchPreference
                    android:key="health_connect_send"
                    android:summary="Send data to Health Connect"
                    android:dependency="health_connect_enable"
                    />


            </PreferenceScreen>
        </PreferenceScreen>
        <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
            android:key="xdrip_less_common_settings"
            android:summary="@string/debug_and_other_misc_options"
            android:title="@string/less_common_settings">

            <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
                android:key="xdrip_extra_status_line"
                android:summary="@string/options_for_extra_line"
                android:title="@string/extra_status_line">
                <SwitchPreference
                    android:defaultValue="false"
                    android:key="extra_status_line"
                    android:summary="@string/additional_text_status"
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:title="@string/extra_status_line" />
                <SwitchPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="extra_status_stats_24h"
                    android:summary="@string/sliding_24_hour_window_summary"
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:title="@string/sliding_24_hour_window" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_avg"
                    android:summary="@string/todays_average_value"
                    android:title="@string/average" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_a1c_dcct"
                    android:summary="@string/ac1_estimation_dcct"
                    android:title="@string/a1c_dcct" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_a1c_ifcc"
                    android:summary="@string/ac1_estimation_ifcc"
                    android:title="@string/a1c_ifcc" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_in"
                    android:summary="@string/percentage_in_range"
                    android:title="@string/in_percentage" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_high"
                    android:summary="@string/percentage_above_range"
                    android:title="@string/high_percentage" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_low"
                    android:summary="@string/percentage_below_range"
                    android:title="@string/low_percentage" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_stdev"
                    android:summary="@string/show_standard_deviation"
                    android:title="@string/standard_deviation" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_carbs"
                    android:summary="@string/show_total_carbs"
                    android:title="@string/total_carbs" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_insulin"
                    android:summary="@string/show_total_insulin"
                    android:title="@string/total_insulin" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_external_status"
                    android:summary="@string/summary_Display_status_from_other_apps_like_AndroidAPS"
                    android:title="@string/title_External_Status" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_pump_reservoir"
                    android:summary="@string/summary_Display_pump_status_information_if_available"
                    android:title="@string/title_Pump_Status" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_royce_ratio"
                    android:summary="@string/summary_Show_treatment_carb_insulin_ratio"
                    android:title="@string/title_Carb_Insulin_Ratio" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_capture_percentage"
                    android:summary="@string/received_readings_percentage"
                    android:title="@string/capture_percentage" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_realtime_capture_percentage"
                    android:summary="@string/received_realtime_readings_percentage"
                    android:title="@string/realtime_capture_percentage" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_accuracy"
                    android:summary="@string/show_calibration_accuracy"
                    android:title="@string/accuracy_evaluation" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_time"
                    android:summary="@string/the_current_time"
                    android:title="@string/time" />
                <SwitchPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="widget_status_line"
                    android:summary="@string/show_extra_status_on_widget"
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:title="@string/show_on_widget" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:dependency="extra_status_line"
                    android:key="status_line_calibration_long"
                    android:summary="@string/show_long_calibration_data"
                    android:title="@string/calibration_data_long" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="status_line_calibration_short"
                    android:summary="@string/show_short_calibration_data"
                    android:title="@string/calibration_data_short" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="extra_status_line"
                    android:key="extra_status_calibration_plugin"
                    android:summary="@string/show_plugin_data"
                    android:title="@string/calibration_plugin" />
            </PreferenceScreen>
            <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
                android:key="xdrip_plus_calibration_settings"
                android:summary="@string/extra_calibration_options"
                android:title="@string/advanced_calibration">
                <ListPreference
                    android:defaultValue="auto"
                    android:entries="@array/TreatmentCalibrationChoiceDetail"
                    android:entryValues="@array/TreatmentCalibrationChoice"
                    android:key="treatment_fingerstick_calibration_usage"
                    android:shouldDisableView="true"
                    android:summary="@string/choose_use_treament_bg"
                    android:title="@string/usw_treatment_bg" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="bluetooth_meter_for_calibrations_auto"
                    android:summary="@string/auto_calibration_good_conditions"
                    android:title="@string/automatic_calibration" />
                <ListPreference
                    android:defaultValue="None"
                    android:key="current_calibration_plugin"
                    android:shouldDisableView="true"
                    android:summary="@string/experimental_calibration_plugin"
                    android:title="@string/calibration_plugin" />
                <SwitchPreference
                    android:defaultValue="false"
                    android:key="plugin_plot_on_graph"
                    android:summary="@string/show_plugin_results_on_graph"
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:title="@string/plugin_plot_on_graph" />
                <SwitchPreference
                    android:defaultValue="false"
                    android:key="display_glucose_from_plugin"
                    android:summary="@string/main_glucose_plugin"
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:title="@string/use_plugin_glucose" />
                <SwitchPreference
                    android:defaultValue="false"
                    android:dependency="engineering_mode"
                    android:enabled="false"
                    android:key="use_pluggable_alg_as_primary"
                    android:summary="@string/all_new_glucose_data_plugin"
                    android:switchTextOff="@string/short_off_text_for_switches"
                    android:switchTextOn="@string/short_on_text_for_switches"
                    android:title="@string/plugin_override_all" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="use_double_calibrations"
                    android:summary="@string/summary_Ask_for_a_second_optional_initial_calibration_blood_test"
                    android:title="@string/title_Double_Calibrations" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="engineering_mode"
                    android:key="old_school_calibration_mode"
                    android:summary="@string/old_school_calibrations"
                    android:title="@string/old_school_calibration_mode" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="infrequent_calibration"
                    android:summary="@string/use_infrequent_calibrations"
                    android:title="@string/infrequent_calibrations" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="use_non_fixed_li_parameters"
                    android:summary="@string/summary_Enable_to_allow_variable_slopes_with_Libre_collection_methods"
                    android:title="@string/title_Non_fixed_Libre_slopes" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="detect_libre_sn_changes"
                    android:summary="Automatically stop if Libre serial changes unexpectedly"
                    android:title="Check Libre Serial" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="bypass_calibration_quality_check"
                    android:summary="@string/summary_Allow_initial_calibration_no_good_enough_data"
                    android:title="@string/title_Bypass_quality_check" />
            </PreferenceScreen>

            <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
                android:icon="@drawable/ic_bluetooth_settings_grey600_48dp"
                android:key="xdrip_bluetooth_adv_settings"
                android:summary="@string/advanced_bluetooth_settings"
                android:title="@string/bluetooth_settings">
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="automatically_turn_bluetooth_on"
                    android:summary="@string/auto_turn_on_bluetooth"
                    android:title="@string/turn_bluetooth_on" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="bluetooth_watchdog"
                    android:summary="@string/reset_bluetooth"
                    android:title="@string/bluetooth_watchdog" />
                <EditTextPreference
                    android:defaultValue="20"
                    android:dependency="bluetooth_watchdog"
                    android:inputType="numberDecimal"
                    android:key="bluetooth_watchdog_timer"
                    android:summary="@string/bluetooth_watchdog_timer_sums"
                    android:title="@string/bluetooth_watchdog_timers" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="g5_bluetooth_watchdog"
                    android:summary="@string/reset_bluetooth_g5"
                    android:title="@string/g5_bluetooth_watchdog" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="close_gatt_on_ble_disconnect"
                    android:summary="@string/close_gatt"
                    android:title="@string/close_gatt_on_ble_disconnect" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="bluetooth_use_scan"
                    android:summary="@string/summary_Scan_before_connecting_on_xBridge_and_Libre_bluetooth"
                    android:title="@string/title_Use_scanning" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="bluetooth_trust_autoconnect"
                    android:summary="@string/summary_Use_and_trust_Android_bluetooth_auto_connect_feature"
                    android:title="@string/title_Trust_Auto_Connect" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="bluetooth_allow_background_scans"
                    android:summary="@string/android_8_background_scanning"
                    android:title="@string/use_background_scans" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="bluetails_enabled"
                    android:summary="Use Bluetooth with companion app data source"
                    android:title="Companion Bluetooth" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="bluetooth_excessive_wakelocks"
                    android:summary="@string/older_bluetooth_wakelocks"
                    android:title="@string/bluetooth_wakelocks" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="bluetooth_frequent_reset"
                    android:summary="@string/reset_bluetooth_on_off"
                    android:title="@string/constantly_reset_bluetooth" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="use_transmiter_pl_bluetooth"
                    android:summary="@string/experimental_transmitter_fpv_uav"
                    android:title="@string/transmitter_pl_support" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="use_rfduino_bluetooth"
                    android:summary="@string/experimental_rdfuino_support"
                    android:title="@string/rfduino_support" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="pref_dex_collection_polling"
                    android:summary="@string/summary_Experimental_support_for_xBridge_polling_feature"
                    android:title="@string/title_xBridge_Polling_Mode" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:dependency="engineering_mode"
                    android:key="always_discover_services"
                    android:summary="@string/summary_Probe_Bluetooth_services_on_every_connect"
                    android:title="@string/title_Always_discover_services" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="blukon_unbonding"
                    android:summary="@string/summary_Only_suitable_for_phones_which_support_automatic_pairing"
                    android:title="@string/title_Allow_blucon_unbonding" />
            </PreferenceScreen>
            <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
                android:key="xdrip_blueReader_advanced_settings"
                android:summary="@string/advanced_bluereader_settings_summary"
                android:title="@string/advanced_bluereader_settings">
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="blueReader_restdays_on_home"
                    android:summary="@string/bluereader_restdays_onhome_sum"
                    android:title="@string/bluereader_restdays_onhome" />
                <SwitchPreference
                    android:defaultValue="false"
                    android:key="blueReader_turn_off"
                    android:summary="@string/bluereader_turnoff_sum"
                    android:title="@string/bluereader_turnoff" />
                <SeekBarPreference
                    android:defaultValue="5"
                    android:dependency="blueReader_turn_off"
                    android:key="blueReader_turn_off_value"
                    android:max="20"
                    android:min="1"
                    android:summary="@string/blueReader_turnoffvalue_sum"
                    android:title="@string/blueReader_turnoffvalue" />
                <SwitchPreference
                    android:defaultValue="false"
                    android:key="blueReader_suppressuglystatemsg"
                    android:summary="@string/summary_Suppress_the_ugly_state_message_if_Problem_appears"
                    android:title="@string/title_supress_ugly_state_message" />
                <SwitchPreference
                    android:defaultValue="false"
                    android:key="blueReader_writebatterylog"
                    android:summary="@string/summary_write_Battery_Information_for_additional_analytic"
                    android:title="@string/title_Batterylog" />
            </PreferenceScreen>

            <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
                android:key="xdrip_libre2_advanced_settings"
                android:title="@string/title_advanced_settings_4_Lib2">
                <SwitchPreference
                    android:defaultValue="false"
                    android:key="Libre2_showRawGraph"
                    android:summary="@string/summary_Lib2_show_raw_values"
                    android:title="@string/title_Lib2_show_raw_values" />
                <SwitchPreference
                    android:defaultValue="false"
                    android:key="Libre2_showSensors"
                    android:summary="@string/summary_Lib2_show_sense_on_status"
                    android:title="@string/title_Lib2_show_sense_on_status" />
            </PreferenceScreen>

            <CheckBoxPreference
                android:defaultValue="true"
                android:key="aggressive_service_restart"
                android:summary="@string/repeatedly_restart_collection_service"
                android:title="@string/aggressive_service_restarts" />

            <CheckBoxPreference
                android:defaultValue="false"
                android:key="interpret_raw"
                android:summary="@string/interpret_share_raw"
                android:title="@string/interpret_raw" />

            <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
                android:key="xdrip_logging_adv_settings"
                android:title="@string/extra_logging">
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:enabled="false"
                    android:key="enable_bugfender"
                    android:summary="@string/send_logs_to_developer"
                    android:title="@string/enable_remote_logging" />
                <EditTextPreference
                    android:defaultValue=""
                    android:key="bugfender_appid"
                    android:title="@string/set_logging_appid" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="engineering_mode"
                    android:key="store_logs"
                    android:summary="@string/only_enable_on_trouble"
                    android:title="@string/store_logs" />
                <EditTextPreference
                    android:defaultValue=""
                    android:dialogMessage="@string/extra_tags_dialog_message"
                    android:dialogTitle="@string/extra_tags_dialog_title"
                    android:inputType="textUri"
                    android:key="extra_tags_for_logging"
                    android:title="@string/extra_tags_for_logging" />
            </PreferenceScreen>
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="show_data_tables"
                android:summary="@string/show_datatables_in_app_drawer"
                android:title="@string/show_datatables" />
            <CheckBoxPreference
                android:defaultValue="true"
                android:key="display_bridge_battery"
                android:summary="@string/summary_Choose_to_display_the_bridge_battery_level"
                android:title="@string/display_bridge_battery" />
            <CheckBoxPreference
                android:defaultValue="false"
                android:key="disable_battery_warning"
                android:summary="@string/disable_log_transmitter_battery_warning"
                android:title="@string/disable_battery_warning" />

            <CheckBoxPreference
                android:defaultValue="false"
                android:key="save_db_ondemand"
                android:summary="@string/allow_daily_db_save"
                android:title="@string/daily_save_db" />
            <EditTextPreference
                android:defaultValue="0"
                android:key="retention_days_bg_reading"
                android:max="366"
                android:numeric="integer"
                android:summary="@string/summary_Erase_data_older_than_this_many_days"
                android:title="@string/title_Glucose_Retention" />
            <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
                android:key="xdrip_other_misc_extra_screen"
                android:summary=""
                android:title="@string/title_Other_misc_options">
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="run_service_in_foreground"
                    android:summary="@string/shows_a_persistent_notification"
                    android:title="@string/run_collector_in_foreground" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="engineering_mode"
                    android:key="engineering_mode"
                    android:summary="@string/allow_unsafe_settings"
                    android:title="@string/engineering_mode" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="requested_ignore_battery_optimizations_new"
                    android:summaryOff="@string/battery_optimization_off"
                    android:summaryOn="@string/battery_optimization_on"
                    android:title="@string/battery_optimization_prompt" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:key="allow_samsung_workaround"
                    android:summary="@string/summary_allow_samsung_workaround"
                    android:title="@string/title_allow_samsung_workaround" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="excessive_wakelocks"
                    android:summary="@string/older_gratuitous_wakelocks"
                    android:title="@string/use_excessive_wakelocks" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="engineering_mode"
                    android:key="predictive_bg"
                    android:summary="@string/predictive_readings_old"
                    android:title="@string/display_predictive_values" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="show-unsmoothed-values-as-plugin"
                    android:summary="@string/show_unsmoothed_summary"
                    android:title="@string/show_unsmoothed" />
                <CheckBoxPreference
                    android:defaultValue="true"
                    android:dependency="engineering_mode"
                    android:key="use_proper_ongoing"
                    android:summary="Use proper ongoing notification. Disabling this causes collector problems on Android 8+"
                    android:title="Proper ongoing" />
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="external_blukon_algorithm"
                    android:summary="@string/use_external_blukon_algorithm_summary"
                    android:title="@string/use_external_blukon_algorithm" />

                <ListPreference
                    android:defaultValue="calibrate_raw"
                    android:entries="@array/CalibrateExternalLibre2"
                    android:entryValues="@array/CalibrateExternalLibre2Values"
                    android:key="calibrate_external_libre_2_algorithm_type"
                    android:summary="@string/calibrate_external_libre_2_algorithm_summary"
                    android:title="@string/calibrate_external_libre_2_algorithm_title" />

                <CheckBoxPreference
                    android:defaultValue="false"
                    android:enabled="true"
                    android:key="libre_use_smoothed_data"
                    android:summary="@string/libre_use_smoothed_data_summary"
                    android:title="@string/libre_use_smoothed_data_title" />

                <CheckBoxPreference
                    android:defaultValue="false"
                    android:enabled="true"
                    android:key="retrieve_blukon_history"
                    android:summary="@string/retrieve_blukon_history_summary"
                    android:title="@string/retrieve_blukon_history_title" />

                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="engineering_mode"
                    android:enabled="true"
                    android:key="libre_one_minute"
                    android:summary="Accept data at one minute intervals from Libre source. WARNING: This feature is still under development and may break different things. Currently only for patched app data source. Please report anything you notice not working and to activate changes to this setting you need to reboot your phone. Requires engineering mode to be enabled to change setting."
                    android:title="Libre one minute" />

                <CheckBoxPreference
                    android:defaultValue="false"
                    android:dependency="allow_testing_with_dead_sensor"
                    android:key="allow_testing_with_dead_sensor"
                    android:summary="@string/summary_allow_testing_with_dead_sensor"
                    android:title="@string/title_NOT_FOR_PRODUCTION_USE" />

            </PreferenceScreen>
            <PreferenceCategory
                android:key="community_help_category"
                android:title="@string/help_the_community">
                <CheckBoxPreference
                    android:defaultValue="false"
                    android:key="store_sensor_location"
                    android:summary="@string/help_the_developers_improve_the_algorithm"
                    android:title="@string/store_sensor_location_to_help" />
            </PreferenceCategory>
        </PreferenceScreen>

    </PreferenceCategory>
</PreferenceScreen>

